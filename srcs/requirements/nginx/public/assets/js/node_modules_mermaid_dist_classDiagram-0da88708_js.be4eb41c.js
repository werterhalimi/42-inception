"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["node_modules_mermaid_dist_classDiagram-0da88708_js"],{"./node_modules/mermaid/dist/classDiagram-0da88708.js":function(C,O,r){r.d(O,{diagram:function(){return v}});var _=r("./node_modules/mermaid/dist/styles-d0b2ab71.js"),h=r("./node_modules/d3/src/index.js"),P=r("./node_modules/dagre-d3-es/src/dagre/index.js"),W=r("./node_modules/dagre-d3-es/src/graphlib/index.js"),d=r("./node_modules/mermaid/dist/mermaid-306576ad.js"),u=r("./node_modules/mermaid/dist/svgDraw-b48a99d5.js"),T=r("./node_modules/dayjs/dayjs.min.js"),U=r("./node_modules/@braintree/sanitize-url/dist/index.js"),w=r("./node_modules/dompurify/dist/purify.js");let f={};const g=20,i=function(a){const p=Object.entries(f).find(L=>L[1].label===a);if(p)return p[0]},j=function(a){a.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),a.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),a.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),a.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),a.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),a.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),a.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),a.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},B={draw:function(a,p,L,s){const l=(0,d.c)().class;f={},d.l.info("Rendering diagram "+a);const M=(0,d.c)().securityLevel;let k;M==="sandbox"&&(k=(0,h.Ys)("#i"+p));const y=M==="sandbox"?(0,h.Ys)(k.nodes()[0].contentDocument.body):(0,h.Ys)("body"),n=y.select(`[id='${p}']`);j(n);const e=new W.k({multigraph:!0});e.setGraph({isMultiGraph:!0}),e.setDefaultEdgeLabel(function(){return{}});const E=s.db.getClasses(),A=Object.keys(E);for(const t of A){const o=E[t],c=u.s.drawClass(n,o,l,s);f[c.id]=c,e.setNode(c.id,c),d.l.info("Org height: "+c.height)}s.db.getRelations().forEach(function(t){d.l.info("tjoho"+i(t.id1)+i(t.id2)+JSON.stringify(t)),e.setEdge(i(t.id1),i(t.id2),{relation:t},t.title||"DEFAULT")}),s.db.getNotes().forEach(function(t){d.l.debug(`Adding note: ${JSON.stringify(t)}`);const o=u.s.drawNote(n,t,l,s);f[o.id]=o,e.setNode(o.id,o),t.class&&t.class in E&&e.setEdge(t.id,i(t.class),{relation:{id1:t.id,id2:t.class,relation:{type1:"none",type2:"none",lineType:10}}},"DEFAULT")}),(0,P.bK)(e),e.nodes().forEach(function(t){t!==void 0&&e.node(t)!==void 0&&(d.l.debug("Node "+t+": "+JSON.stringify(e.node(t))),y.select("#"+(s.db.lookUpDomId(t)||t)).attr("transform","translate("+(e.node(t).x-e.node(t).width/2)+","+(e.node(t).y-e.node(t).height/2)+" )"))}),e.edges().forEach(function(t){t!==void 0&&e.edge(t)!==void 0&&(d.l.debug("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(e.edge(t))),u.s.drawEdge(n,e.edge(t),e.edge(t).relation,l,s))});const m=n.node().getBBox(),D=m.width+g*2,x=m.height+g*2;(0,d.i)(n,x,D,l.useMaxWidth);const b=`${m.x-g} ${m.y-g} ${D} ${x}`;d.l.debug(`viewBox ${b}`),n.attr("viewBox",b)}},v={parser:_.p,db:_.d,renderer:B,styles:_.s,init:a=>{a.class||(a.class={}),a.class.arrowMarkerAbsolute=a.arrowMarkerAbsolute,_.d.clear()}}}}]);
